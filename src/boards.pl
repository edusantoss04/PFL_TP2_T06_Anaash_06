        A         B         C         D         E         F         G         H         I         J
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
0  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
1  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
2  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
3  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
4  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
5  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
6  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
7  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
8  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
9  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
   |         |         |         |         |         |         |         |         |         |         |
10 | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   |         |         |         |         |         |         |         |         |         |         |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+

  
        A         B         C         D         E         F         G         H         I         J
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
0  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
1  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
2  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
3  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
4  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
5  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
6  | red -1  | blue-1  | red -1  | blue-1  | blu% testar game_over(gameState([[red-1, red-1, red-1, red-1, red-1, red-1],[red-1, red-1, red-1, red-1, red-1, red-1]],_,_), Winner).



% Caso base: game over se todas as peças são da mesma cor.

game_over(gameState(Board, _, _), Winner) :-

    flatten(Board, FlatList),           % Achatar a lista de listas em uma lista única.

    exclude(=(empty), FlatList, Pieces), % Remover todas as posições 'empty'.

    same_color(Pieces, Winner).         % Verificar se todas as peças têm a mesma cor.



% Predicado que verifica se todas as peças têm a mesma cor (ignorando números).

same_color([], _) :- fail.              % Falha se não houver peças (apenas 'empty').

same_color([Color-_|T], Winner) :-      % Ignora o número e verifica apenas a cor.

    maplist(has_same_color(Color), T),  % Verifica se todos os elementos têm a mesma cor.

    Winner = Color.



% Verifica se a peça tem a mesma cor (ignora números).

has_same_color(Color, Color-_).



% Caso base: uma lista vazia já está achatada.

flatten([], []).



% Se o primeiro elemento for uma lista, achatar recursivamente.

flatten([H|T], FlatList) :-

    is_list(H),

    flatten(H, HFlat),

    flatten(T, TFlat),

    append(HFlat, TFlat, FlatList).



% Se o primeiro elemento não for uma lista, apenas adicioná-lo ao resultado.

flatten([H|T], [H|TFlat]) :-

    \+ is_list(H),

    flatten(T, TFlat).



o que esta mal?e-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
7  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
8  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
9  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
10 | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+


        A         B         C         D         E         F         G         H     
   +---------+---------+---------+---------+---------+---------+---------+---------+
0  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+
1  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+
2  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+
3  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+
4  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+
5  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+
6  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+
7  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+
8  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+---------+---------+


        A         B         C         D         E         F         
   +---------+---------+---------+---------+---------+---------+
0  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+
1  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+
2  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+
3  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+
4  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+
5  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+
6  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  |
   +---------+---------+---------+---------+---------+---------+
 
print_teste:-
    write('        A         B         C         D         E         F         G         H         I         J \n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('0  | blue-1  | red -1  | blue-1  |         | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('1  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('2  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('3  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('4  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('5  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('6  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('7  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('8  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('9  | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n'),
    write('10 | red -1  | blue-1  | red -1  | blue-1  | blue-1  | red -1  | blue-1  | red -1  | blue-1  | red -1  |\n'),
    write('   +---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+\n').


display_board(gameState(board(6,[[blue-1, red-1, blue-1, red-1, blue-1, red-1],[red-1, blue-1, red-1, blue-1, red-1, blue-1],[blue-1, red-1, blue-1, red-1, blue-1, red-1],[red-1, blue-1, red-1, blue-1, red-1, blue-1],[blue-1, red-1, blue-1, red-1, blue-1, red-1],[red-1, blue-1, red-1, blue-1, red-1, blue-1]]), _, _)).

display_board(gameState(board(8,[[blue-1, red-1, blue-1, red-1, blue-1, red-1, blue-1, red-1],[red-1, blue-1, red-1, blue-1, red-1, blue-1, red-1, blue-1],[blue-1, red-1, blue-1, red-1, blue-1, red-1, blue-1, red-1],[red-1, blue-1, red-1, blue-1, red-1, blue-1, red-1, blue-1],[blue-1, red-1, blue-1, red-1, blue-1, red-1, blue-1, red-1],[red-1, blue-1, red-1, blue-1, red-1, blue-1, red-1, blue-1],[blue-1, red-1, blue-1, red-1, blue-1, red-1, blue-1, red-1],[red-1, blue-1, red-1, blue-1, red-1, blue-1, red-1, blue-1]]), _, _)).